<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>
    <title>Edit Contact Info and Social Media</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/objective.css' %}">
    <script>
        $(document).ready(function() {

            $('#btm_btn').click(function(){
                $("#contact", "#social").submit();
            })
        })

    </script>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Welcome {{user.first_name}} {{user.last_name}}!</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
                aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav mr-auto"></ul>
                <span class="navbar-text">
                    <a href="/logout" role="button" class="btn btn-sm btn-info ml-2 text-white">Logout</a>
                </span>
            </div>
        </div>
    </nav><!-- /NAVBAR -->
    <br>
    <br>
    <div class="container">
        <form action="/editcontact" method="POST" id="contact">
        {% csrf_token %}
        <h2>Name</h2>
        {% for message in messages %}
        <ul>
            <li>{{ message }}</li>
        </ul>
        {% endfor %}
        <div class="row">
            <div class="col">
                <label for="first_name" class="form-label">First Name</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" name="first_name" value="{{user.first_name}}">
            </div>
            <div class="col">
                <label for="last_name" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="exampleFormControlInput1"name="last_name" value="{{user.last_name}}">
            </div>
        </div>
        <br>
        <h2>Address</h2>
        <div class="row">
            <div class="col">
                <label for="street" class="form-label">Street</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{user.contact.street}}" name="street">
            </div>
            <div class="col">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{user.contact.city}}" name="city">
            </div>
        </div>
        <div class="row">
            <div class="col">
                <select class="form-select" aria-label="Default select example" value="{{user.contact.state}}" name="state">
                    <option selected>{{user.contact.state}}</option>
                    <option value="AA">Armed Forces Americas</option>
                    <option value="AP">Armed Forces Pacific</option>
                    <option value="AE">Armed Forces Others</option>
                    <option value="AS">American Samoa</option>
                    <option value="GU">Guam</option>
                    <option value="MP">Northern Mariana Islands</option>
                    <option value="PR">Puerto Rico</option>
                    <option value="UM">United States Minor Outlying Islands</option>
                    <option value="VI">Virgin Islands</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select>
            </div>
            <div class="col">
                <label for="zip" class="form-label">Zip</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{user.contact.zip}}" name="zip">
            </div>
        </div>
        <br>
        <h2>Contact</h2>
        <div class="row">
            <div class="col">
                <label for="phone_number" class="form-label">Phone</label>
                <input type="tel" class="form-control" id="exampleFormControlInput1"  pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" value="{{user.contact.phone_number}}" name="phone_number">
            </div>
            <div class="col">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="exampleFormControlInput1" value="{{user.email}}" name="email">
            </div>
        </div>
        <br>
        <h2>Social Media <span class="social">(LinkedIn, GitHub, etc)</span></h2>
        <h6>Do not include www. or https. Ex: facebook.com/joe.smith</h6>
        <div class="site_row">
            {% for social in user.social_medias.all %}
            <div class="col">
                <label for="github" class="form-label">GitHub</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{social.github}}" name="github">
            </div>
            <div class="col">
                <label for="linkedin" class="form-label">LinkedIn</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{social.linkedin}}" name="linkedin">
            </div>
        </div>
        <div class="site_row">
            <div class="col">
                <label for="facebook" class="form-label">Facebook</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{social.facebook}}" name="facebook">
            </div>
            <div class="col">
                <label for="twitter" class="form-label">Twitter</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" value="{{social.twitter}}" name="twitter">
            </div>            
            {% endfor %}
        </div>
    </div>
        <br>
        <div class="d-grid gap-2 col-2 mx-auto" id="btm_btn">
            <button class="btn btn-primary" id="submit" type="submit">Home</button>
        </div>
        </form>
    </div>
</body>